<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Expense Tracker</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body class="bg-gray-200">
    <div class="h-[500px] w-80 mx-auto bg-white mt-20 p-10 ">
        <h1 class="text-blue-500 text-2xl font-bold mb-4">Expense Tracker</h1>
        <div class="block mb-4">
            <label for="Category">Category</label>
            <input type="text" id="Category" required  class="h-10 w-full border-2 border-solid"/>
        </div>
        <div class="block mb-4">
            <label for="Amount">Amount</label>
            <input type="number" id="Amount" min="0" required class="h-10 w-full border-2 border-solid"/>
        </div>
        <button onclick="submitExpense()" class="mb-4 border border-blue-500 bg-blue-500 ml-12 rounded-lg w-32 h-8">Submit Expense</button>
        <div class="mb-4">
            <h4 class="text-blue-500 text-lg mb-4">Calculate my Expense</h4>
            <p id="TotalAmount"></p>
            <button onclick="totalExpense()" class="mb-4 border border-blue-500 bg-blue-500 ml-12 rounded-lg w-32 h-8">Total Expense</button>
        </div>
    </div>

    <div class="h-[500px] w-80 mx-auto">
        <ul id="allExpense">

        </ul>
    </div>
  

  

  <script>
    let expenseMap = new Map();

    function submitExpense() {
      let category = document.getElementById("Category").value;
      let amount = parseFloat(document.getElementById("Amount").value);

      if (category && !isNaN(amount)) {
        expenseMap.set(category,amount);
        showExpense();
        document.getElementById("Category").value = "";
        document.getElementById("Amount").value = "";
      }
    }

    function totalExpense() {
      let total = 0;
      for (const [key, value] of expenseMap.entries()) {
        total += value;
      }
      let totalAmount = document.getElementById("TotalAmount");
      totalAmount.innerHTML = expenseMap.size !== 0 ? `<b>Total Amount: </b> Rs.${total}`: `No Expense is added`;
    }

    function showExpense() {
      const expenseList = document.getElementById("allExpense");
      expenseList.innerHTML = "";

      for (const [category, amount] of expenseMap.entries()) {
        const li = document.createElement("li");
        li.textContent = `Category: ${category}, Amount: Rs.${amount} `;

        const updateButton = document.createElement("button");
        updateButton.textContent = "Update";
        updateButton.style.height = '30px'
        updateButton.style.width = '100px'
        updateButton.style.backgroundColor = 'green'
        updateButton.onclick = function () {
          const newAmount = prompt(`Enter new amount for ${category}:`, amount);
          if (newAmount !== null && !isNaN(parseFloat(newAmount))) {
            expenseMap.set(category, parseFloat(newAmount));
            showExpense();
          }
        };

        const deleteButton = document.createElement("button");
        deleteButton.textContent = "Delete";
        deleteButton.style.height = '30px'
        deleteButton.style.width = '100px'
        deleteButton.style.backgroundColor = 'red'
        deleteButton.onclick = function () {
          expenseMap.delete(category);
          showExpense();
        };

        li.appendChild(updateButton);
        li.appendChild(deleteButton);
        expenseList.appendChild(li);
      }
    }
  </script>
</body>
</html>
